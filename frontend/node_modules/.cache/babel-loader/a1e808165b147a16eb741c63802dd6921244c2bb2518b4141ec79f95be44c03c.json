{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dipra\\\\OneDrive\\\\Desktop\\\\anpr-ai\\\\frontend\\\\src\\\\components\\\\ImageUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport './ImageUpload.css'; // Assuming ImageUpload.css exists here too\n\n// Note: Converted props handling and event types from TypeScript to JavaScript\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ImageUpload({\n  onImageUpload\n}) {\n  _s();\n  const [dragActive, setDragActive] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const inputRef = useRef(null);\n  const handleDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFile(e.dataTransfer.files[0]);\n    }\n  };\n  const handleChange = e => {\n    e.preventDefault();\n    if (e.target.files && e.target.files[0]) {\n      handleFile(e.target.files[0]);\n    }\n  };\n\n  // Clear previous preview if user uploads a new file\n  const handleFile = file => {\n    // Revoke previous object URL to prevent memory leaks\n    if (previewUrl) {\n      URL.revokeObjectURL(previewUrl);\n    }\n    setPreviewUrl(URL.createObjectURL(file));\n    onImageUpload(file);\n  };\n  const onButtonClick = () => {\n    var _inputRef$current;\n    // Trigger the hidden file input click\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: `upload-form ${dragActive ? \"drag-active\" : \"\"}`,\n      onDragEnter: handleDrag,\n      onSubmit: e => e.preventDefault() // Prevent default form submission\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        type: \"file\",\n        accept: \"image/*\" // Accept only image files\n        ,\n        onChange: handleChange,\n        style: {\n          display: \"none\"\n        } // Keep it hidden\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-area\",\n        onClick: onButtonClick // Allow clicking the area to trigger upload\n        ,\n        onDragEnter: handleDrag,\n        onDragLeave: handleDrag,\n        onDragOver: handleDrag,\n        onDrop: handleDrop,\n        children: previewUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: previewUrl,\n          alt: \"Preview\",\n          className: \"preview-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Drag and drop your image here or\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"upload-button\",\n            onClick: onButtonClick,\n            children: \"Upload an image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(ImageUpload, \"J6y9KQhIwaNR2xHVOlzo1zjYmQY=\");\n_c = ImageUpload;\nexport default ImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageUpload","onImageUpload","_s","dragActive","setDragActive","previewUrl","setPreviewUrl","inputRef","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","dataTransfer","files","handleFile","handleChange","target","file","URL","revokeObjectURL","createObjectURL","onButtonClick","_inputRef$current","current","click","className","children","onDragEnter","onSubmit","ref","accept","onChange","style","display","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onDragLeave","onDragOver","onDrop","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/dipra/OneDrive/Desktop/anpr-ai/frontend/src/components/ImageUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport './ImageUpload.css'; // Assuming ImageUpload.css exists here too\r\n\r\n// Note: Converted props handling and event types from TypeScript to JavaScript\r\nfunction ImageUpload({ onImageUpload }) {\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const [previewUrl, setPreviewUrl] = useState(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n      setDragActive(true);\r\n    } else if (e.type === \"dragleave\") {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n    \r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      handleFile(e.dataTransfer.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      handleFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  // Clear previous preview if user uploads a new file\r\n  const handleFile = (file) => {\r\n    // Revoke previous object URL to prevent memory leaks\r\n    if (previewUrl) {\r\n      URL.revokeObjectURL(previewUrl);\r\n    }\r\n    setPreviewUrl(URL.createObjectURL(file));\r\n    onImageUpload(file);\r\n  };\r\n\r\n  const onButtonClick = () => {\r\n    // Trigger the hidden file input click\r\n    inputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-container\">\r\n      <form\r\n        className={`upload-form ${dragActive ? \"drag-active\" : \"\"}`}\r\n        onDragEnter={handleDrag}\r\n        onSubmit={(e) => e.preventDefault()} // Prevent default form submission\r\n      >\r\n        {/* Hidden file input */}\r\n        <input\r\n          ref={inputRef}\r\n          type=\"file\"\r\n          accept=\"image/*\" // Accept only image files\r\n          onChange={handleChange}\r\n          style={{ display: \"none\" }} // Keep it hidden\r\n        />\r\n        {/* Drag and drop area / button trigger area */}\r\n        <div\r\n          className=\"upload-area\"\r\n          onClick={onButtonClick} // Allow clicking the area to trigger upload\r\n          onDragEnter={handleDrag}\r\n          onDragLeave={handleDrag}\r\n          onDragOver={handleDrag}\r\n          onDrop={handleDrop}\r\n        >\r\n          {previewUrl ? (\r\n            <img src={previewUrl} alt=\"Preview\" className=\"preview-image\" />\r\n          ) : (\r\n            <>\r\n              <p>Drag and drop your image here or</p>\r\n              {/* Make the button type=\"button\" to prevent form submission */}\r\n              <button type=\"button\" className=\"upload-button\" onClick={onButtonClick}>\r\n                Upload an image\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageUpload; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}